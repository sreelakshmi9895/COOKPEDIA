<app-header></app-header>
<div class="container my-5">
    <div class="row">
    <div class="col-lg-4">
  <h4>Filter</h4>
  <!-- all btn -->
   <button (click)="getAllRecipes()" class="btn mt-5">
  All
   </button>
   <!-- cuisine dropdown -->
    <div >
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample">
    Cuisine Type
  </button>
  <div class="collapse" id="collapseExample">
    <!-- duplicate according to cuisine type -->
@for (cuisine of cuisineArray(); track $index) {
   <button (click)="filterRecipe('cuisine',cuisine)" class="btn">
    {{cuisine}}
 </button>
}
</div>
</div>
    <!-- meal type dropdown -->
      <div >
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="collapse" data-bs-target="#collapseExample1">
   Meal Type
  </button>
  <div class="collapse" id="collapseExample1">
    <!-- duplicate according to cuisine type -->
 @for (meal of mealTypeArray(); track $index) {
  <button (click)="filterRecipe('mealType',meal)" class="btn">
    {{meal}}
 </button>
 }
</div>
</div>
    </div>
    <div class="col-lg-8">
        <div class="d-flex justify-content-between align-items-center">
  <h1>All Recipes</h1>
  <input [(ngModel)]="searchKey" type="text" placeholder="Search Recipe Here" class="form-control w-50">
        </div>
       <div class="row">
        <!-- duplicate acoording to recipe card -->
@for (recipe of allRecipes() | search:searchKey | paginate: { itemsPerPage: 9, currentPage: p }; track $index) {
   <div class="col-lg-4">
<div (click)="viewRecipe(recipe._id)" class="p-3">
<img class="card-img-top" [src]="recipe.image" alt="">
<div class="card-body">
<h5 class="card-title">{{recipe.name}}</h5>
<p>Cuisone : {{recipe.cuisine}}</p>
</div>
 </div>
        </div>
}
@if ((allRecipes() | search:searchKey).length==0){
  <p class="my-5 fw-bolder">Recipe not found</p>
}
    </div>
    <!-- pagination -->
     <div class="mb-3 text-center">
       <pagination-controls (pageChange)="p = $event"></pagination-controls>
     </div>
    </div>
</div>
<app-footer></app-footer>
